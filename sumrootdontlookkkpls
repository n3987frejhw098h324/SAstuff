wait(7)
local Players = game:GetService("Players")
local TweenService = game:GetService("TweenService")
local TeleportService = game:GetService("TeleportService")
local HttpService = game:GetService("HttpService")

local speaker = Players.LocalPlayer
local character = speaker.Character or speaker.CharacterAdded:Wait()
local root = character:WaitForChild("HumanoidRootPart")

local dwayne = workspace:FindFirstChild("Map") and workspace.Map:FindFirstChild("Arena") and workspace.Map.Arena:FindFirstChild("Dwayne")
local dwaynePos = Vector3.new(1124.9949951171875, 590.0040283203125, -772.2570190429688)

if dwayne and dwayne.Position == dwaynePos then
	local function ListServers(cursor)
		local url = ("https://games.roblox.com/v1/games/%d/servers/Public?sortOrder=Asc&limit=10%s"):format(game.PlaceId, cursor and "&cursor=" .. cursor or "")
		local raw = game:HttpGet(url)
		return HttpService:JSONDecode(raw)
	end

	local servers = ListServers()
	local server = servers.data[math.random(1, #servers.data)]

	if root then root.Anchored = true end
	TeleportService:TeleportToPlaceInstance(game.PlaceId, server.id, speaker)
	return
end

root.CFrame = CFrame.new(1101, 586, -731)
task.wait(3)

local tween = TweenService:Create(root, TweenInfo.new(1.5, Enum.EasingStyle.Linear), {CFrame = CFrame.new(1126, 590, -780)})
tween:Play()
tween.Completed:Wait()

task.wait(17)

local function ListServers(cursor)
	local url = ("https://games.roblox.com/v1/games/%d/servers/Public?sortOrder=Asc&limit=10%s"):format(game.PlaceId, cursor and "&cursor=" .. cursor or "")
	local raw = game:HttpGet(url)
	return HttpService:JSONDecode(raw)
end

while task.wait(5) do
	if root then root.Anchored = true end

	local servers = ListServers()
	local server = servers.data[math.random(1, #servers.data)]

	TeleportService:TeleportToPlaceInstance(game.PlaceId, server.id, speaker)
end
